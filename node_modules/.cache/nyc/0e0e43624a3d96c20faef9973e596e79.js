var cov_ayk3mgwtk=function(){var path="C:\\Users\\Ajcat\\Desktop\\CPEN491-Capstone\\SeaChangeBackendServer\\endpoints\\post-article.js",hash="eb004559b4ed0097a79d89f4fbf3c2eede6f04d6",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\Ajcat\\Desktop\\CPEN491-Capstone\\SeaChangeBackendServer\\endpoints\\post-article.js",statementMap:{"0":{start:{line:4,column:16},end:{line:4,column:34}},"1":{start:{line:5,column:15},end:{line:5,column:31}},"2":{start:{line:6,column:11},end:{line:6,column:38}},"3":{start:{line:8,column:0},end:{line:22,column:3}},"4":{start:{line:10,column:4},end:{line:10,column:137}},"5":{start:{line:10,column:72},end:{line:10,column:137}},"6":{start:{line:12,column:4},end:{line:21,column:7}},"7":{start:{line:15,column:8},end:{line:20,column:9}},"8":{start:{line:16,column:12},end:{line:16,column:74}},"9":{start:{line:18,column:12},end:{line:18,column:29}},"10":{start:{line:19,column:12},end:{line:19,column:78}},"11":{start:{line:24,column:0},end:{line:24,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:31},end:{line:8,column:32}},loc:{start:{line:8,column:50},end:{line:22,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:8},end:{line:14,column:9}},loc:{start:{line:14,column:37},end:{line:21,column:5}},line:14}},branchMap:{"0":{loc:{start:{line:10,column:4},end:{line:10,column:137}},type:"if",locations:[{start:{line:10,column:4},end:{line:10,column:137}},{start:{line:10,column:4},end:{line:10,column:137}}],line:10},"1":{loc:{start:{line:10,column:8},end:{line:10,column:70}},type:"binary-expr",locations:[{start:{line:10,column:8},end:{line:10,column:33}},{start:{line:10,column:37},end:{line:10,column:70}}],line:10},"2":{loc:{start:{line:15,column:8},end:{line:20,column:9}},type:"if",locations:[{start:{line:15,column:8},end:{line:20,column:9}},{start:{line:15,column:8},end:{line:20,column:9}}],line:15}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();// POST ARTICLE API ENDPOINT ROUTES
// ===============================================
const express=(cov_ayk3mgwtk.s[0]++,require("express"));const router=(cov_ayk3mgwtk.s[1]++,express.Router());const db=(cov_ayk3mgwtk.s[2]++,require('../components/db'));cov_ayk3mgwtk.s[3]++;router.post('/article-upload',function(req,res){cov_ayk3mgwtk.f[0]++;cov_ayk3mgwtk.s[4]++;if((cov_ayk3mgwtk.b[1][0]++,req.body.url==undefined)||(cov_ayk3mgwtk.b[1][1]++,req.body.description==undefined)){cov_ayk3mgwtk.b[0][0]++;cov_ayk3mgwtk.s[5]++;return res.status(500).send("Request Body is not set properly");}else{cov_ayk3mgwtk.b[0][1]++;}cov_ayk3mgwtk.s[6]++;db.query(`INSERT INTO ebdb.NewsArticlePost (url, description, uploaded_at) VALUES (?, ?, ?)`,[req.body.url,req.body.description,new Date()],function(err,rows,fields){cov_ayk3mgwtk.f[1]++;cov_ayk3mgwtk.s[7]++;if(!err){cov_ayk3mgwtk.b[2][0]++;cov_ayk3mgwtk.s[8]++;return res.status(200).send('Article successfully uploaded!');}else{cov_ayk3mgwtk.b[2][1]++;cov_ayk3mgwtk.s[9]++;console.log(err);cov_ayk3mgwtk.s[10]++;res.status(500).send("There was a problem registering the user.");}});});cov_ayk3mgwtk.s[11]++;module.exports=router;